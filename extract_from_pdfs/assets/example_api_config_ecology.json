{
  "_comment": "Example API configuration for ecology/flower visitor research",
  "_note": "This shows how to validate taxonomic and geographic data",

  "field_mappings": {
    "plant_species": {
      "api": "wfo_plants",
      "output_field": "validated_plant_taxonomy",
      "description": "Validate plant species names against World Flora Online"
    },

    "country": {
      "api": "geonames",
      "output_field": "validated_country",
      "description": "Validate and standardize country names"
    }
  },

  "nested_field_mappings": {
    "_comment": "These apply to fields within the 'records' array",

    "records.plant_species": {
      "api": "wfo_plants",
      "output_field": "validated_plant_taxonomy",
      "extra_params": {}
    },

    "records.country": {
      "api": "geonames",
      "output_field": "geocoded_country"
    },

    "records.locality": {
      "api": "geocode",
      "output_field": "coordinates",
      "description": "Get coordinates for field sites"
    }
  },

  "validation_rules": {
    "plant_species": {
      "required": true,
      "validate_taxonomy": true,
      "accept_genus_only": false
    },

    "visitors": {
      "type": "array",
      "min_items": 1,
      "validate_items": false,
      "_note": "Visitor names as-written, not validated against taxonomy"
    },

    "location_completeness": {
      "require_country": true,
      "require_coordinates": false,
      "_note": "Country is required but exact coordinates are optional"
    }
  },

  "api_settings": {
    "retry_on_failure": true,
    "max_retries": 3,
    "timeout_seconds": 10,

    "rate_limits": {
      "wfo": 1.0,
      "geonames": 0.5,
      "nominatim": 1.0
    }
  }
}
